<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ุฏููู ุงูุณุงุฆู ููููุงุทู ุฐุงุช ุงูุทูุจ ุงูุนุงูู ูู ุนูุงู - ุชุทุจูู ููุณุงุนุฏุฉ ุงูุณุงุฆููู ุนูู ุฅูุฌุงุฏ ุงูููุงุทู ุฐุงุช ุงูุทูุจ ุงูุนุงูู">
    <meta name="theme-color" content="#4361ee">
    <title>ุฏููู ุงูุณุงุฆู ููููุงุทู ุฐุงุช ุงูุทูุจ ุงูุนุงูู - ุนูุงู</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="container">
        <header>
            <h1>๐ ุฏููู ุงูุณุงุฆู - ุนูุงู</h1>
            <p class="subtitle">ุงุนุซุฑ ุนูู ุฃูุฑุจ ููุทูุฉ ุฐุงุช ุทูุจ ุนุงูู</p>
        </header>

        <div class="debug-panel" id="debug-panel">
            <h3>๐ ููุญุฉ ุงูุชุดุฎูุต</h3>
            <div class="debug-info">
                <div class="debug-item">
                    <span class="debug-label">ุญุงูุฉ ุงูุชุทุจูู:</span>
                    <span id="app-state" class="debug-value">ุชููุฆุฉ</span>
                </div>
                <div class="debug-item">
                    <span class="debug-label">ุญุงูุฉ ุงูุจูุงูุงุช:</span>
                    <span id="data-state" class="debug-value">ูู ูุชู ุงูุชุญููู</span>
                </div>
                <div class="debug-item">
                    <span class="debug-label">ุญุงูุฉ ุงูุฎุฑูุทุฉ:</span>
                    <span id="map-state" class="debug-value">ูู ูุชู ุงูุชููุฆุฉ</span>
                </div>
                <div class="debug-item">
                    <span class="debug-label">ุญุงูุฉ ุงููููุน:</span>
                    <span id="location-state" class="debug-value">ุบูุฑ ูุญุฏุฏ</span>
                </div>
                <div class="debug-item">
                    <span class="debug-label">ุงูุงุชุตุงู:</span>
                    <span id="network-state" class="debug-value">ูุญุต...</span>
                </div>
            </div>
            <button id="force-reload" class="btn btn-warning" aria-label="ุฅุนุงุฏุฉ ุชุญููู ูุณุฑู">๐ ุฅุนุงุฏุฉ ุชุญููู ูุณุฑู</button>
        </div>

        <div class="status-section">
            <div class="status-card">
                <div class="status-item">
                    <span class="label">ูููุนู ุงูุญุงูู:</span>
                    <span id="current-area" class="value">ุฌุงุฑู ุงูุชุญุฏูุฏ...</span>
                </div>
                <div class="status-item">
                    <span class="label">ุงูููุทูุฉ ุงูููุชุฑุญุฉ:</span>
                    <span id="suggested-zone" class="value">ุฌุงุฑู ุงูุจุญุซ...</span>
                </div>
                <div class="status-item">
                    <span class="label">ูุถุน ุงูุทูุจ:</span>
                    <span id="demand-mode" class="value"></span>
                </div>
                <div class="status-item">
                    <span class="label">ุญุงูุฉ ุงููุธุงู:</span>
                    <span id="system-status" class="value status-ready">ุฌุงุฑู ุงูุชุญููู...</span>
                </div>
            </div>
        </div>

        <div class="controls">
            <button id="refresh-location" class="btn btn-primary" aria-label="ุชุญุฏูุซ ุงููููุน">
                ๐ ุชุญุฏูุซ ุงููููุน
            </button>
            <button id="start-app" class="btn btn-success" aria-label="ุชุดุบูู ุงูุชุทุจูู">
                ๐ ุชุดุบูู ุงูุชุทุจูู
            </button>
            <button id="test-data" class="btn btn-info" aria-label="ุงุฎุชุจุงุฑ ุงูุจูุงูุงุช">
                ๐งช ุงุฎุชุจุงุฑ ุงูุจูุงูุงุช
            </button>
            <label class="toggle-container">
                <input type="checkbox" id="high-demand-only" aria-label="ุนุฑุถ ุงูููุงุทู ุฐุงุช ุงูุทูุจ ุงูุนุงูู ููุท">
                <span class="toggle-text">ุนุฑุถ ุงูููุงุทู ุฐุงุช ุงูุทูุจ ุงูุนุงูู ููุท</span>
            </label>
        </div>

        <div id="map" class="map-container" aria-label="ุฎุฑูุทุฉ ุงูููุงุทู" role="application"></div>

        <div class="zones-section">
            <h2>ุงูููุงุทู ุงููุชุงุญุฉ</h2>
            <div id="loading" class="loading">
                <div class="loading-spinner" aria-hidden="true"></div>
                <span>ุฌุงุฑู ุชุญููู ุงูุจูุงูุงุช...</span>
                <span class="sr-only">ุฌุงุฑู ุชุญููู ุงูุจูุงูุงุชุ ูุฑุฌู ุงูุงูุชุธุงุฑ</span>
            </div>
            <div id="execution-log" class="execution-log" aria-live="polite"></div>
            <ul id="zone-list" class="zone-list" aria-label="ูุงุฆูุฉ ุงูููุงุทู"></ul>
        </div>

        <div id="toast" class="toast" role="alert" aria-live="assertive"></div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="app.js"></script>
</body>
</html>
